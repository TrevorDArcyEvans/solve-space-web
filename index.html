<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>SolveSpace Web Edition (EXPERIMENTAL)</title>
    <link href=https://use.fontawesome.com/releases/v5.1.1/css/all.css
    rel=stylesheet crossorigin=anonymous
    integrity=sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ>
    <link href="solvespaceui.css" rel="stylesheet" />
    <script src="solvespaceui.js"></script>
  </head>
  <body>
    <div id="splash">
      <div class="center">
        <div id="spinner"></div>
        <div id="status">Downloading...</div>
        <div id="crash" style="display:none">
          SolveSpace has crashed. See console for details.<br />The Web Edition
          of SolveSpace is experimental,<br />and may not be as reliable as the
          Desktop Edition.<br /><a href="javascript:window.location.reload()"
            >Restart</a
          >
        </div>
        <progress hidden id="progress" max="100" value="0"></progress>
      </div>
    </div>
    <ul class="menu menubar" style="visibility:hidden">
      <li>None</li>
    </ul>
    <div id="container">
      <div id="container0"><canvas id="canvas0"></canvas></div>
      <div id="container1"><canvas id="canvas1"></canvas></div>
    </div>
    <script>
      var splashElement = document.getElementById('splash'),
        spinnerElement = document.getElementById('spinner'),
        statusElement = document.getElementById('status'),
        progressElement = document.getElementById('progress'),
        crashElement = document.getElementById('crash'),
        canvas0Element = document.getElementById('canvas0'),
        canvas1Element = document.getElementById('canvas1')
      ;(canvas0Element.oncontextmenu = function (e) {
        e.preventDefault()
      }),
        (canvas1Element.oncontextmenu = function (e) {
          e.preventDefault()
        })
      var Module = {
        preRun: [],
        postRun: [],
        print: console.log,
        printErr: console.error,
        state: 'loading',
        setStatus: function (e) {
          'crashed' == this.state
            ? ((spinnerElement.style.display = 'none'),
              (statusElement.style.display = 'none'),
              (crashElement.style.display = ''),
              (splashElement.style.display = ''))
            : '' != e
            ? (console.log('Status:', e), (statusElement.innerText = e))
            : 'done' != this.state &&
              (console.log('Status: Done!'),
              (splashElement.style.display = 'none'),
              (this.state = 'done'))
        },
        totalDependencies: 0,
        monitorRunDependencies: function (e) {
          if (
            ((this.totalDependencies = Math.max(this.totalDependencies, e)),
            0 < e)
          ) {
            var t = this.totalDependencies - e
            Module.setStatus(
              'Preparing... (' + t + '/' + this.totalDependencies + ')'
            )
          }
        }
      }
      Module.setStatus('Downloading...'),
        (window.onerror = function () {
          return (Module.state = 'crashed'), Module.setStatus(), !1
        })
    </script>
    <script src="solvespace.js" async></script>
  </body>
</html>
